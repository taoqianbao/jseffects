<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<script src="raphael.min.js" type="text/javascript" charset="utf-8"></script>
		<!--<script src="popup.js" type="text/javascript" charset="utf-8"></script>-->
		<!--<script src="//cdn.bootcss.com/jquery/3.0.0-beta1/jquery.min.js"></script>-->
		<style type="text/css">
			html,
			body {
				margin: 0;
				padding: 0;
				background-color: white;
			}
			
			#container {
				width: 100%;
				height: 191px;
				background-color: #fff;
				border: solid 1px gainsboro;
			}
			
			rect {
				/*stroke-width: 2px;
				stroke:#d4d9e0;
				stroke-linecap: butt;*/
			}
			
			rect:hover {
				fill: #1c59ce;
			}
		</style>
		<style type="text/css">
			.shadow {
				-webkit-filter: drop-shadow( -5px -5px 5px #000);
				filter: drop-shadow( -5px -5px 5px #000);
				/* Same syntax as box-shadow */
			}
		</style>
	</head>

	<body>

		<svg width="100%" height="300px">
			
			<path id="testPath"
				stroke-linejoin="round" 
				stroke-linecap="round" 
				stroke="red" 
				stroke-opacity="1" 
				stroke-width="5" 
				fill="none"  
				filter="url(#filter1)" 
	d="M1063 458L1055 428L1034 433L1030 421L1017 423L911 452L895 455L885 441L859 424L809 410L788 394L774 377L744 309L730 313L727 304L669 319L599 341L596 331L491 364L488 357L498 343L490 343L450 352L417 256L371 270L366 253L355 256L351 242L217 282L194 210L191 196L166 113L45 147L44 140L13 150">
			</path>
		</svg>

		<svg xmlns="http://www.w3.org/2000/svg" version="1.1">
			<defs>
				
		       <filter id="filter1" x="0" y="0">
		           <feOffset result="offOut" in="SourceAlpha" dx="-2" dy="30" />
		           <feGaussianBlur result="blurOut" in="offOut" stdDeviation="15" />
		           <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />
			    </filter>
			    
				<!--<filter id="f1" x="0" y="0">
					<feOffset result="offOut" in="SourceGraphic" dx="-5" dy="-5" />
					<feGaussianBlur result="blurOut" in="offOut" stdDeviation="3" />
					<feBlend in="SourceGraphic" in2="blurOut" mode="normal" />
				</filter>
				
				<lineargradient id="linear" x1="0%" y1="0%" x2="100%" y2="0%">
					<stop offset="0%" style="stop-color:rgb(255,255,0);stop-opacity:1" />
					<stop offset="100%" style="stop-color:rgb(255,0,0);stop-opacity:1" />
				</lineargradient>-->
				
		 	</defs>
		</svg>

		<div id="container"></div>

		<!--<script type="text/javascript">
			window.onload = function() {
				var paper = Raphael(10, 50, 320, 200);
				// 设置随机曲线类型
				var c = paper.circle(50, 50, 40);

				function animate() {
					var ms = 1000;
					var easing = ['elastic', '', 'bounce', 'ease-in-out'][Math.round(Math.random() * 3)];
					c.animate({
						cx: 50 + Math.random() * 120, //圆心x坐标
						cy: 50 + Math.random() * 100, //圆心y坐标
					}, ms, easing, function() {
						setTimeout(animate, 1000);
					});
				}
				setTimeout(animate, 1000);
			}
		</script>-->

		<script type="text/javascript">
			/*
			 * 
			 */
			function renderLine(el, labels, datas) {

				var domEl = document.querySelector(el);

				//
				var containerW = domEl.clientWidth,
					containerH = domEl.clientHeight;

				var paper = Raphael(domEl, containerW, containerH);
				var leftgutter = 0,
					topgutter = 50, //画线区域顶部位置
					bottomgutter = 15;
				var lineHeight = containerH - topgutter - bottomgutter - 15;
				var points = [];
				var maxValue = Math.max.apply(null, datas);
				var minValue = Math.min.apply(null, datas);
				var perValue = lineHeight / (maxValue - minValue);
				var serieseLength = labels.length;
				var blanket = paper.set();
				var X = (containerW - leftgutter) / serieseLength;
				var rectHover = {
						fill: "#edf5ff"
					},
					dotin = {
						r: 6,
						fill: "#7ba3f6",
						stroke: "#0066ff",
						"stroke-width": 2
					},
					dotout = {
						r: 4,
						fill: "#0066ff",
						stroke: "white",
						"stroke-width": 1
					},
					txt1 = {
						'font-size': 14,
						'fill': '#7ba3f6'
					},
					txt2 = {
						'font-size': 14,
						'fill': '#555555'
					},
					path1 = {
						'stroke': '#7ba3f6',
						"stroke-width": 3,
						"filter": "url(#filter1)",
						"stroke-opacity": "1",
						"stroke-linecap": "round",
						"stroke-linejoin": "round"
							//"fill": "url(#linear)",
					},
					path2 = {
						'stroke': '#fff',
						"stroke-width": 5,
						"filter": "url(#filter1)",
						"stroke-opacity": "1",
						"stroke-linecap": "round",
						"stroke-linejoin": "round"
							//"fill": "url(#linear)"
					},
					pop1 = {
						//fill: "#fff",
						stroke: "red",
						"stroke-width": 1,
						"fill-opacity": 1
					};
				//
				//
				//
				for (var i = 0; i < serieseLength; i++) {
					//
					var xp = parseFloat(containerW / serieseLength);
					//
					var x = xp * (0.5 + i);
					//
					var y = containerH - bottomgutter - perValue * (datas[i] - minValue);
					//
					//path line
					points.push({
						x: x,
						y: y
					});
				}
				//
				var strPath = "";
				for (var i = 0; i < points.length; i++) {
					if (i == 0) {
						strPath = "M" + points[0].x + " " + points[0].y;
					}
					strPath += "L" + points[i].x + " " + points[i].y;
				}
				//
				paper.path(strPath).attr(path2);
				paper.path(strPath).attr(path1);

				//test 
				document.getElementById('testPath').setAttribute("d", strPath);
				document.querySelector('#container').querySelector("path").setAttribute("filter", "url(#filter1)");

				//
				//
				for (var i = 0; i < points.length; i++) {
					var x = points[i].x,
						y = points[i].y;
					//dots
					var dot = paper.circle(x, y).attr(dotout);
					//value -text
					var tips = paper.text(x, y - 20, datas[i] + "% ");
					tips.attr(txt1);
					// x - text
					paper.text(x, 15, labels[i]).attr(txt2);
					//
					//
					blanket.push(paper.rect(leftgutter + X * i, 0, X, containerH).attr({
						stroke: "#d4d9e0",
						strokeWidth: "1",
						fill: "#fff",
						opacity: 0.1
					}));
					//
					//
					var rect = blanket[blanket.length - 1];
					//
					(function(x, y, data, lbl, dot, tips) {
						//
						var timer, i = 0;
						var side = "top";
						//						if (y < 60) {
						//							side = "bottom";
						//						}

						//
						rect.hover(function() {
							//this.attr("fill", "#edf5ff");
							dot.attr(dotin);
							tips.attr('font-size', 15);
							tips.attr('fill', "#0066ff");
						}, function() {
							dot.attr(dotout);
							tips.attr('font-size', 14);
							tips.attr('fill', "#7ba3f6");
						});
					})(x, y, datas[i], labels[i], dot, tips);
				}
			}
		</script>
		<script type="text/javascript">
			//$().rendercharts();
			function rendercharts() {
				var labels = ['05-18', '05-19', '05-20', '05-21', '05-22'];
				var datas = [90.08, 100.92, 130.23, 115.30, 120.43];
				renderLine('#container', labels, datas);
			}
			window.onload = function() {
				rendercharts();
			};
			window.onresize = function() {
				$("#container").html('');
				rendercharts();
			}
		</script>
	</body>

</html>